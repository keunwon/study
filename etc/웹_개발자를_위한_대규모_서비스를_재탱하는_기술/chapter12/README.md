# 12. 확장성 확보에 필요한 사고방식

## 31. 계층과 확장성
### 계층별 확장성
- AP 서버는 기본적으로 그다지 깊은 부분까지 생각하지 않아도 비교적 간단하게 확장시킬 수 있음
- 로드밸런스에 새로운 AP 서버를 추가해가면 점점 확장되어 감
- DB나 파일 서버의 경우에는 앞에서 말한 분산, 확장성 확보가 매우 어려움
    - 데이터 요청이 쓰기, 읽기 2종류인데 read를 분산하는 것은 비교적 용이한 반면 write를 분산하는 것은 매우 어려움

## 32. 부하 파악, 튜닝
### 부하를 측정하기 위한 항목
- 먼저 Load Average 확인 (CPU가 할당되지 않아서 대기상태에 있는 프로세스 수의 평균치)
### AP 서버/DB 서버의 튜닝 정책과 서버 대수
- 용도별로 나눠서 튜닝을 변경함으로써 전체 서버 대수를 줄일 있음
- DB도 용도별, 봇용고 사용자용으로 나눠서 응답을 중요시할지, 리소스를 소진하는 것을 중요시할지로 나눔
### 서비스 규모와 튜닝
- 튜닝 작업을 반복하다 보면 서버 대수가 늘어났을 때 비정상적인 거동을 하고 있는 서버를 찾ㅇ르 수 있는 방법을 알아내는 게 과제
### 확장성 확보
- 확장성 확보를 위해 로드밸런스를 이용하거나 파티셔닝을 하고 있음
