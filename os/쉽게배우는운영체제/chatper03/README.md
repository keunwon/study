# 3. 프로세스와 스레드

## 프로세스 개요
### 프로그램에서 프로세스로의 전환
- 프로세스는 컴퓨터 시스템의 작업 단위로 태스크(task)라고 부름
- 프로세스 제어 블록
    - 프로세스 제어 블록이 없으면 프로그램이 프로세스로 전환되지 못함
    - 프로세즈 제어 블록에는 프로세스를 처리하는데 필요한 다양한 정보들이 있음
        - 프로세스 구분자: 프로세스를 구분하는 구분자가 있음
        - 메모리 관련 정보: 프로세스의 메모리 위치 정보를 가지고 있음 (메모리 보호를 위해 경계 레지스터와 한계 레지스터도 포함)
        - 각종 중간값: 프로그램 카운터 저장, 각종 레지스터 같은 중간값 저장
    - 프로그램이 프로세스가 되려면 메모리에 올라오는 것과 동시에 프로세스 제어 블록 생성이 필요함
    - 운영체제 영역에 생성
### 프로세스의 다섯가지 상태
- 생성 상태: 
    - 프로세스가 메모리에 올라와 실행 준비를 완료한 상태 
    - 프로세스 제어 블록 할랑 상태
- 준비 상태: 
    - 실행될 프로세스를 CPU 스케줄러가 선택
    - CPU 스케줄러가 어떤 프로세스 제어 블록을 선택하는 작업을 dispatch 명령으로 처리 
    - dispatch 실행 시 준비상태에서 실행 상태로 변경
- 실행 상태
    - 프로세스가 CPU를 할당받아 실행되는 상태
    - 타임 슬라이스 동안만 작업 가능
        - 시간안에 작업을 처리하지 못하면 timeout 실행, 준비 상태로 변경
        - 작업이 완료되면 exit 실행, 프로세스 정상 종료
        - 실행 상태에서 입출력을 요청하면 CPU는 입출력 관리자에게 요청 후 block, 대기 상태로 변경
- 대기 상태
    - 실행 상태에있는 프로세스가 입출력을 요청한 경우 완료될때까지 기다리는 상태
    - 입출력이 완료되면 인터럽트 발생하면 깨어날 프로세를 찾음 (wakeup), 준비 상태로 변경
- 완료 상태
    - 프로세스 종료
    - 코드와 데이터를 메모리에 삭제, 프로세스 제어 블록 삭제
    - 만약 비정상적으로 프로세스가 종료되면 종료 직전 메로리 상태를 저장장치로 저장 -> 코어 덤프

## 프로세스 제어 블록과 문맥 교환
### 프로세스 제어 블록
- 프로세를 실행하는데 필요한 중요한 정보를 보관하는 자료구조로 TCB (Task Control Block)라고 부름
- 모든 프로세스는 고유한 프로세스 제어 블록을 가짐
### 문백 교환
- CPU를 차지하던 프로세스가 나가고 새로운 프로세스를 받아들이는 작업 
- 이때 두 프로세스 제어 블록의 내용 변경