# 부트스트랩

## 부트스트랩 정의
**네티로 작성한 네트워크 애플리케이션의 동작 방식과 환경을 설정하는 클래스이다.**

## 부트스트랩 설정
### 이벤트 루프 : 소켓 채널에서 발생한 이벤트를 처리하는 스레드 모델에 대한 구현이 담겨있다.
### 채널의 전송모드 : 블로킹, 논블로킹, epoll 지정 가능하다. (epoll 가장 빠르지만 리눅스에서만 사용가능)
### 채널 파이프라인 : 소켓 체널로 수신된 데이터를 처리할 데이터 핸들러들을 지정한다.

## 부트스트랩 구조
- 전송계층
- 이벤트 루프
- 채널 파이프 설정
- 소켓 주소와 포트
- 소켓 옵션

## BootStrap / ServerBootStrap 메소드
- group ->  이벤트 루프 설정
- channel -> 소켓 입출력 설정
- channelFactory -> 소켓 입출력 설정
- handler -> 서버 소켓 채널의 이벤트 핸들러 설정
- childHandler -> 소켓 채널의 데이터 가공 핸들러 설정
- option -> 서버 소켓 채널의 소켓 옵션 설정
- childOption -> 소켓 채널의 소켓 옵션 설정

### option 메소드 주요 기능
- TCP_NODELAY : 데이터 송신에 Nagle 알고리즘 비활성화 여부
- SO_KEEPALIVE : 운영체제에서 지정된 시간에 한번씩 keepalive 패킷을 상대방에게 전송
- SO_SNDBUF : 송신 커널 버퍼의 크기  
- SO_RCVBUF : 수신할 커널 크기
- SO_REUSEADDR : TIEM_WAIT 상태의 포트를 서버 소켓에 바인드할 수 있게 한다.  
- SO_LINGER : 전송 대기시간
- SO_BACKLOG : 동시에 수용 가능한 소켓 연결 요청 수

## SCTP 특징
- TCP의 연결지향 및 전송 보장 특성과 UDP의 메세지 지향 특성 모두 갖추고 있다.  
(TCP UDP 의 장점을 살리도록 설계)
- 4 way handshake
- 쿠키를 이용하여서 연결한다. (네트워크 공격으로부터 보호)
- Half closed (반 닫힘 상태) 지원 안함
##### Half Closed : TCP에서 연결 해제 요청을 하는 FIN 패킷에 대한 결과로 상대방의 ACK, FIN 패킷을 받은 상태(커널의 포트 상태가 TIME_WAIT 변경)


